function mJacobianoDireto(Formacao,cOUd)

if strcmp(cOUd,'c')
    posRobos = Formacao.pPos.x;
    velRobos = Formacao.pPos.dx;
elseif strcmp(cOUd,'d')
    posRobos = Formacao.pPos.xd;
    velRobos = Formacao.pPos.dxd;
else
    disp('cOUd deve ser ''c'' para valores correntes ou ''d'' para valores desejados')
end

J = [
    1/3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         1/3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         1/3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0;
    0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    1/3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         1/3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         1/3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0;
    0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    1/3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         1/3,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         1/3;
    0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (2*(posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3))/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2 + 1)*(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            -2/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2 + 1)*(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        -(posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2 + 1)*(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  1/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2 + 1)*(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        -(posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2 + 1)*(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  1/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2 + 1)*(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3));
    -(2*(posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3))/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             2/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         (posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 -1/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         (posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 -1/(3*((posRobos(6)/3 - (2*posRobos(3))/3 + posRobos(9)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3));
    (2*(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3))/(3*((posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            -2/(3*((posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        -(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)/(3*((posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  1/(3*((posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        -(posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)/(3*((posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  1/(3*((posRobos(5)/3 - (2*posRobos(2))/3 + posRobos(8)/3)^2/(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)^2 + 1)*(posRobos(4)/3 - (2*posRobos(1))/3 + posRobos(7)/3)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0;
    (2*posRobos(1) - 2*posRobos(4))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      (2*posRobos(2) - 2*posRobos(5))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      (2*posRobos(3) - 2*posRobos(6))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          -(2*posRobos(1) - 2*posRobos(4))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          -(2*posRobos(2) - 2*posRobos(5))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          -(2*posRobos(3) - 2*posRobos(6))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0;
    (2*posRobos(1) - 2*posRobos(7))/(2*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      (2*posRobos(2) - 2*posRobos(8))/(2*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      (2*posRobos(3) - 2*posRobos(9))/(2*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          -(2*posRobos(1) - 2*posRobos(7))/(2*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          -(2*posRobos(2) - 2*posRobos(8))/(2*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          -(2*posRobos(3) - 2*posRobos(9))/(2*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2));
    ((2*posRobos(4) - 4*posRobos(1) + 2*posRobos(7))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) + ((2*posRobos(1) - 2*posRobos(4))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(3/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) + ((2*posRobos(1) - 2*posRobos(7))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(3/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2), ((2*posRobos(5) - 4*posRobos(2) + 2*posRobos(8))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) + ((2*posRobos(2) - 2*posRobos(5))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(3/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) + ((2*posRobos(2) - 2*posRobos(8))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(3/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2), ((2*posRobos(6) - 4*posRobos(3) + 2*posRobos(9))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) + ((2*posRobos(3) - 2*posRobos(6))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(3/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) + ((2*posRobos(3) - 2*posRobos(9))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(3/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2), ((2*posRobos(1) - 2*posRobos(7))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) - ((2*posRobos(1) - 2*posRobos(4))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(3/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2), ((2*posRobos(2) - 2*posRobos(8))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) - ((2*posRobos(2) - 2*posRobos(5))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(3/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2), ((2*posRobos(3) - 2*posRobos(9))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) - ((2*posRobos(3) - 2*posRobos(6))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(3/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2), ((2*posRobos(1) - 2*posRobos(4))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) - ((2*posRobos(1) - 2*posRobos(7))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(3/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2), ((2*posRobos(2) - 2*posRobos(5))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) - ((2*posRobos(2) - 2*posRobos(8))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(3/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2), ((2*posRobos(3) - 2*posRobos(6))/(2*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(1/2)) - ((2*posRobos(3) - 2*posRobos(9))*((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2))/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)^(1/2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)^(3/2)))/(1 - ((posRobos(1) - posRobos(4))^2 + (posRobos(1) - posRobos(7))^2 - (posRobos(4) - posRobos(7))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(2) - posRobos(8))^2 - (posRobos(5) - posRobos(8))^2 + (posRobos(3) - posRobos(6))^2 + (posRobos(3) - posRobos(9))^2 - (posRobos(6) - posRobos(9))^2)^2/(4*((posRobos(1) - posRobos(4))^2 + (posRobos(2) - posRobos(5))^2 + (posRobos(3) - posRobos(6))^2)*((posRobos(1) - posRobos(7))^2 + (posRobos(2) - posRobos(8))^2 + (posRobos(3) - posRobos(9))^2)))^(1/2)];

velFormacao = J*velRobos;

if strcmp(cOUd,'c')
    Formacao.pPos.dq = velFormacao;
elseif strcmp(cOUd,'d')
    Formacao.pPos.dqd = velFormacao;
end
end
